# EKS Deployment Configuration
# Copy this file to .env and fill in your actual values

# ==============================================================================
# AgentCore Runtime Configuration (Optional - only for test_eks_deployment_agentcore.py)
# ==============================================================================

# AgentCore Runtime ARN for EKS deployment agent
# Get this from: agentcore status
AGENTCORE_RUNTIME_ARN=arn:aws:bedrock-agentcore:us-west-2:YOUR_ACCOUNT_ID:runtime/YOUR_RUNTIME_NAME
AGENTCORE_REGION=us-west-2

# ==============================================================================
# Required Configuration
# ==============================================================================

# EKS Cluster Configuration
EKS_CLUSTER_NAME=ec2-eks-migration
EKS_REGION=eu-north-1

# Application Configuration
APP_NAME=blog-app-eks
APP_PATH=/Users/aritnag/ec2-ecs-express-mode-using-mcp/sample-application
IMAGE_NAME=blog-app-eks
PORT=3000
REPLICAS=2

# ==============================================================================
# AWS Resources Configuration
# ==============================================================================

# S3 Bucket for application data
S3_BUCKET=blog-images-private-861276113985-eu-north-1

# DynamoDB Table for application data
DYNAMODB_TABLE=blog-posts

# ==============================================================================
# Application Environment Variables
# ==============================================================================

# Cognito Configuration (for authentication)
COGNITO_USER_POOL_ID=your-user-pool-id-here
COGNITO_CLIENT_ID=your-client-id-here

# Application Settings
NODE_ENV=production

# ==============================================================================
# IRSA Configuration (Optional - will be auto-generated if not provided)
# ==============================================================================

# IAM Role name for IRSA (auto-generated: {APP_NAME}-irsa-role)
# IRSA_ROLE_NAME=blog-app-eks-irsa-role

# Service Account name (auto-generated: {APP_NAME}-sa)
# SERVICE_ACCOUNT_NAME=blog-app-eks-sa

# ==============================================================================
# Advanced Configuration (Optional)
# ==============================================================================

# AWS Account ID (auto-detected if not provided)
# AWS_ACCOUNT_ID=861276113985

# Docker build platform (default: linux/amd64)
# DOCKER_PLATFORM=linux/amd64

# Kubernetes namespace (default: default)
# K8S_NAMESPACE=default

# LoadBalancer configuration
# LB_TYPE=external
# LB_SCHEME=internet-facing

# Resource limits
# CPU_REQUEST=250m
# MEMORY_REQUEST=512Mi
# CPU_LIMIT=500m
# MEMORY_LIMIT=1Gi

# ==============================================================================
# Usage Instructions
# ==============================================================================

# 1. Copy this file: cp .env.example .env
# 2. Fill in your configuration values in .env
# 3. Run the deployment: python test_eks_deployment.py

# The script will:
# 1. Create OIDC provider if it doesn't exist
# 2. Create IAM role with S3 and DynamoDB permissions
# 3. Build Docker image with correct platform (linux/amd64)
# 4. Push image to ECR
# 5. Deploy to EKS with IRSA configuration
# 6. Wait for LoadBalancer endpoint

# ==============================================================================
# Example Configurations
# ==============================================================================

# Development Environment:
# EKS_CLUSTER_NAME=dev-eks-cluster
# EKS_REGION=us-west-2
# APP_NAME=my-app-dev
# REPLICAS=1

# Production Environment:
# EKS_CLUSTER_NAME=prod-eks-cluster
# EKS_REGION=us-east-1
# APP_NAME=my-app-prod
# REPLICAS=3
# CPU_REQUEST=500m
# MEMORY_REQUEST=1Gi
# CPU_LIMIT=1000m
# MEMORY_LIMIT=2Gi
